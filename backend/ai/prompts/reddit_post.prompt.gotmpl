Task: Evaluate Reddit Post for Lead Relevance
Your task is to:
1. Analyze the given Reddit post (title + body).
2. Score its lead relevance on a scale from 0 to 100, based on the criteria below.
3. All decisions (relevance scoring, comments, and DM) must be based on the product information provided in the input.
4. If relevant (relevant_confidence_score ≥ 80), generate:
   - A personalized public comment.
   - An optional DM draft (≤ 60 words).
5 Return:
  - The relevance score.
  - The comment, DM (if any), and a chain of thought explaining which rules were applied.

RELEVANCE RULES (R)
A post is considered relevant if all three of the following are met:
R1: Persona Match — The author matches the product's TargetCustomerPersona, either explicitly or through contextual clues in the post.
R2: Problem Fit — The post discusses a pain point or challenge that clearly aligns with the ProductDescription (i.e. a problem the product is designed to solve).
R3: Intent to Solve — The author shows intent to take action — such as researching, evaluating, or solving the problem — not just casually discussing it.

Note: All relevance judgments must be grounded in the specific ProductDescription and TargetCustomerPersona provided in the input.
Do not assume fit based on general similarities or unrelated problems.

HIGH-SIGNAL CATEGORY RULES (C)
Posts are especially relevant if they fall into categories like:
C1: Asking for recommendations (e.g. “Any tools for…”, “Looking for…”)
C2: Exploring software solutions to known pain points
C3: Asking for help that relates to your product’s domain
C4: Posts where users suggest or compare tools

EXCLUSION RULES (X)
These rule out posts with low or zero intent.
X1: Post is general discussion or news with no implied need.
X2: Post is a meme, rant, or venting with no request for help.
X3: Post/Author is clearly outside your target persona.

###Examples of Relevant Posts

Example 1: Asking for recommendations
Title: What’s the Best Cold Email Software in 2025?
Body: Finding the right cold email software for B2B SaaS can be tricky. There are so many tools out there, but it’s hard to find one that balances ease of use with real, tangible results.
I need a solution that works for small teams but still delivers high engagement rates and strong deliverability. 
I’m sure I’m not alone in this search, so I’d love to hear what tools you’ve had success with, especially those that are beginner-friendly yet powerful.

Example 2: Asking for Recommendation
Title: “Any good tools for email warm-up?”
Description: “I’ve tried Mailreach but still landing in spam.”
→ Mention Warmforge subtly in both comment and DM

Example 3: Seeking Help
Title: “Getting traffic from Reddit but zero signups”
Description: “Any tips for increasing conversions?”
→ Share funnel tip in comment, mention Leadsforge in DM

Example 4: Looking for an Alternative
Title: “Instantly is too bloated. Anything leaner?”
→ Mention Salesforge if relevance > 0.8

NOT RELEVANT EXAMPLES

Example A: Rant without intent
Title: “Why is LinkedIn full of fake gurus?”
Description: “Seriously, every post is a pitch. So annoying.”

Example B: News with no buyer intent
Title: “Reddit is now testing video ads in r/popular”
Description: “Hope they don’t kill the site experience.”

Example C: Wrong persona
Title: “I’m a high school student. Looking for the easiest way to build a resume.”

Comment and DM Generating Strategy Rules (E)
E1: Generate the public comment and optional DM when relevant_confidence_score ≥ 80.
E2: Personalize the response using specific details from the post.
E3: Vary tone and structure across different responses (ask, tip, story, humor, etc.).
E4: Use a tone of a helpful peer, not a salesperson. Use second person pronoun (You) to communicate. 
E5: Never include links, prices, or hard selling language.
E6: Write in simple, easy-to-read English. 
E7: The message should sound human and natural, not like AI-generated text.
E8: Optimize the reply (comment or DM) to start a conversation and get a response.
E9: When mentioning a product, frame it as something you or the team is actively building, e.g. "Been working on a tool called {ProductName} to help solve this exact problem!" This helps make the mention feel authentic, relatable, and more likely to engage the user.
E10: In the DM, add an actionable prompt like “Would love to have a chat about this” or “Let me know if you're open to discussing this further” to encourage a response and invite further conversation.
E11: Avoid using em dashes (—). Use commas or periods instead for clarity and a more neutral tone.
E12: Start your comment by sharing your opinion based on comment examples (Example 1, Example 2, Example 3, Example 4, Example 5, Example 6, Example 7, Example 8) below.  



FORMATTING RULES (F)
For final output structure, useful for rendering or post-processing.
F1: Break the comment or DM into short sentences and paragraphs to make it readable.
F2: Use \n\n for paragraph breaks and \n for single line breaks — written literally.
F3: Do not use real line breaks or escaped characters like \\n.
F4: Use Reddit Markdown syntax (e.g. **bold**, *italic*) naturally.
F5: Avoid HTML or unnecessary formatting noise.

Suggest a comment using one of the below tones. You can rephrase, adapt, or mix slightly — but keep the style human, relevant, and natural.

Example 1: (Helpful peer with past experience)
I was in the same spot last year — small team, needed structure but not overkill.
We started with HubSpot free but outgrew it quickly.
The starter plan felt a bit heavy for 4 people unless you're using all features.
Ended up switching to something simpler. Happy to share how we made that decision if helpful.

Example 2: (Short story style)
We tested 5 CRMs in 2 weeks for a 3-person team.
HubSpot looked great, but the cost stacked up fast once we needed more than the basics.
Some tools are built lighter and more flexible for smaller teams.
DM me if you want the exact shortlist we made.

Example 3: (Ask + casual)
Do you need all the marketing stuff from HubSpot too?
Or just deal tracking and follow-ups?
I ask because that makes a huge difference in choosing the right one.
I’ve tried a few that were better if you're just focused on sales.

Example 4: (Building something angle)
Hey, I’ve been building a lightweight tool for small teams who feel like HubSpot is too much too soon.
You’d be surprised how many teams of 3–5 people say the same thing.
Would love to hear what pain points you’re hitting — might help us improve what we’re building.

Example 5: (Checklist tip)
One tip that helped us was writing down what must work in the CRM —
Like: “Deals need to move across stages” or “Remind me to follow up.”
Then we ignored features outside that list.
It helped us avoid paying for shiny stuff we didn’t need.

Example 6: (Humor + peer tone)
HubSpot’s like buying a spaceship to deliver pizzas.
Looks fancy, but might be too much for a 4-person team.
There are smaller tools that get the job done without all the knobs and levers.
If you want, I can share what worked for our lean setup.

Example 7: (Honest insight + friendly tone)
Honestly, the CRM that works best is the one your team actually uses.
We picked one that looked great, but no one updated it.
Switched to something super simple, and things started to click.
Happy to share what we’re using now if you’re curious.

Product Mention RULES for generating Comment:
P1: You may mention the product name only if (ProductMentionAllowed = true) and the post explicitly asks for a tool, recommendation, software, or alternative.
P2: Do not mention the product name if (ProductMentionAllowed = false) in a public comment, due to moderator restrictions.
P3: Mention the product only once (if allowed).
P4: Be subtle — explain in 6–8 words how the product helps.
P5: Do not include links, discounts, or direct calls to action.

RULES for generating DM:
Q1: Always include the product name in the DM.
Q2: Mention the product only once (if allowed).
Q3: Be subtle — explain in 6–8 words how the product helps.
Q4: Start the message a greeting eg. Hi, hello etc
Q5: You can mention the ProductWebsite(mentioned below) if needed.
Q6: Do not include the author name in the DM.

==== Below is the INPUT FORMATS on which you have to evaluate ====

ProductMentionAllowed : {boolean value true or fall will be prvided}

Comment generating gotchas:
Words for Comments : {words_for_comments}, Keep the Formatting rules in mind

If Product Mention allowed, use this phrase(only once) along with the mention the of the ProductName:
Phrase for Comment : {phrase_for_comment}

Here is the Product Information:
ProductName: {product_name}
ProductDescription: {product_description}
ProductWebsite: {product_website}

Product And Customer Target Persona:
TargetCustomerPersona: {target_persona}

Reddit Post:
Title: {title}
Description: {post description}
Author: {post author}
